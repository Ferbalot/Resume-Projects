<!DOCTYPE html>
<html> 
    <head>
        <title>Dragon Game v5d</title> 
        <style>
            body {
                margin: 0;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <canvas id="mycanvas"></canvas> 
    </body>
    <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
 
    <script>
        var sketchProc = function(processingInstance) {
            with (processingInstance) {
                if ("images" === "images") {
                    //setup
                    var sw = innerWidth; sh = innerHeight; //screen width and screen height

                    //block assets
                    var grass = [loadImage("https://cdn.discordapp.com/attachments/675857761749172274/678123428720672769/unknown.png"), loadImage("https://cdn.discordapp.com/attachments/676634374850084864/679057191574962176/wetground.png"), loadImage("https://cdn.discordapp.com/attachments/675857761749172274/678123428720672769/unknown.png")];
                    var dirt = [loadImage("https://cdn.discordapp.com/attachments/675857761749172274/678374934812033064/unknown.png"), loadImage("https://cdn.discordapp.com/attachments/676634374850084864/679060807350485011/underground.png"), loadImage("https://cdn.discordapp.com/attachments/675857761749172274/678123428720672769/unknown.png")];
                    var assets = [loadImage("https://cdn.discordapp.com/attachments/675857761749172274/679174257296539680/oie_oie_trim_image.png")]; //coin

                    //particles
                    particle = [loadImage("https://cdn.discordapp.com/attachments/676634374850084864/679188360463384587/dropgood.png")]; //raindrop

                    //backgrounds
                    var backgroundimage = [loadImage("https://cdn.discordapp.com/attachments/675857761749172274/678126767050850325/unknown.png"), loadImage("https://cdn.discordapp.com/attachments/675857761749172274/679068011600150532/unknown.png"), loadImage("https://cdn.discordapp.com/attachments/675857761749172274/680305470749278220/jungle.png")]; //hills, rain and forest, dark deep forest

                    //characters
                    var character = [loadImage("https://cdn.discordapp.com/attachments/676664588388925460/678794169329778698/sunnyavatar.png"), loadImage("https://cdn.discordapp.com/attachments/676634374850084864/679174929559584788/buggs.png"), loadImage("https://cdn.discordapp.com/attachments/676664588388925460/678864058426064916/geek.png")]; //sunshine, buggs, organizational geek

                    size(sw, sh);
                    frameRate(100);
                }

                //variable nonsense
                if ("variables" === "variables") {
                    var x_values = [[150,-100,-100,150,-150,-150,-150,150,-150,-100,150,-150,-150,0,50,150,100,-100,100,-100,100,50,-150,200,0,50,150,50,250,300,300,250,200,150,100,50,0,50,500,550,600,500,550,600,782,826,204,341,400,450,350,26,322,323,121,50,400,450,700,750,1150,1150,1150,1200,1200,1200,1250,1250,1250,1350,1400,1084,1317,350,350,800,850,900,1050,1000,1000,1050,500,550,600,1209,800,850,900,1000,950,1050,500,550,600,650,700,750,1450,1450,1450,1450,1450,1450,1450,1150,1200,1300,1250,1450,1450,1450,1450,1450,1450,-100,1450,-51,-50,26,149,-25,250,200,-50,50,200,1450,1390,1450,1450,1450,1450,-150,-150,-150,-150], [0,50,100,150,200,250,300,350,400,450,450,500,550,600,650,650,700,750,800,800,850,900,950,1000,1050,1100,1150,1200,1250,1300,1350,1400,1400,1450,1500,1550,1600,1650,1700,1750,1800,1850,1900,1950,2000,2050,2100,2150,2200,2250,2300,2350,2400,2450,2500,2550,2600,2650,2700,2750,2800,2900,3150,3100,3050,3000,2950,2850,3200,3250,3300,3350,3400,3450,3500,3550,3600,3800,3750,3700,3650,3850,3900,3950,4000,4050,4100,4150,4200,4250,4300,4350,4400,4450,4450,4400,4350,4300,4250,4200,3700,3750,3800,3900,3950,4000,4050,4100,3650,3600,3550,3500,3450,3850,3250,3300,3350,3400,3100,3050,3000,2950,3150,3100,3050,3000,3200,3250,2800,2850,2900,2900,2750,2700,2800,2800,2850,2900,2950,2800,2750,2700,2650,2700,2600,2600,2550,2500,2600,2550,2500,2400,2500,2400,2350,2250,2300,2350,2450,2450,2300,2250,2250,2200,2200,2150,2050,2000,1950,1950,2000,2050,1900,1850,1800,1900,2100,2150,2100,1950,1900,1850,1800,1750,1750,1700,1650,1700,1650,1550,1500,1600,1600,1450,1400,1350,1300,1250,1350,1400,1450,1350,1300,1300,1350,1400,1450,1500,1350,1300,1250,1200,1400,1450,1550,1600,1650,1150,1100,1500,1250,1200,1150,1100,1050,1000,950,950,1000,1050,1300,1350,1400,1450,1500,1550,1600,1650,1700,1750,1800,1550,1500,1450,1350,1300,1250,1200,1300,1350,1400,1450,1500,1250,1150,1200,1100,1050,1100,1150,1100,1150,1400,1350,1300,1250,1200,1050,1000,950,950,900,850,800,800,850,900,950,1000,900,750,800,850,750,700,650,650,700,750,800,850,600,550,500,500,450,400,350,300,350,450,400,300,250,200,150,150,250,200,100,50,100,50,0,-50,0,-100,-150,-150,-200,-50,-250,-300,-250,-200,-150], [105,350,1233.5,315], [659,1350,64,1300,100,150,200,250,300,350,400,450,500,550,100,150,200,250,300,350,400,450,500,550,600,650,700,700,750,750,800,850,850,800,750,800,850,800,800,800,850,850,850,850,850,850,900,800,750,700,650,600,550,450,400,350,250,300,1300,250,300,350,400,1250,1300,1350,400,950,1000,1050,1100,1000,950,900,850,750,700,650,850,900,950,1000,1050,1150,1100,1200,100,150], [280,375,-350,-300,-250,-200,-150,-100,-50,0,-100,-50,-50,0,0,-100,0,0,0,0,50,50,100,100,150,200,250,250,250,250,250,250,250,250,50,50,50,50,50,100,150,200,200,100,50,50,100,50,50,50,100,150,200,200,150,100,150,200,200,100,150,150,0,-50,-100,-100,-350,-350,-350,-350,-350,-350,-350,-350,-350,-350,-350,-300,-250,-200,-150,-150,-200,-250,-300,-350,-300,-300,-300,-300,-300,-300,-300,-300,-300,-300,-250,-200,-150,-100,-50,-100,-100,-50,-100,-200,-250,-300,-200,-150,-150,-200,-250,-250,-50,-100,-200,-200,-150,-250,-250,-250,-250,-250,-250,-150,-100,-50,0,-150,-200,0,0,0,0,0,0,-50,-100,-150,-200,-200,-200,-150,-50,-50,-50,-150,-150,-150,-100,-100,-100,-50,-50,-50,-100,-150,-200,-200,-200,-150,-150,-200,-100,-100,-100,-100,-100,-100,-100,-150,-200,-250,-300,-350,-350,-350,-350,-350,-300,-250,-250,-200,-150,-150,-150,-200,-250,-300,-350,-250,-300,-300,-300,-250,-200,-150,-150,-150,-200,-200,-250,-150,-350,-250,-300,-300,-350,-250,-350,-350,-300,-250,-250,-300,-350,-300,-250,-250,-300,-350,-200,-150,-100,-50,-200,-150,-100,-50,-100,-50,-50,-100,-100,-50,400,450,400,450,500,550,500,600,650,600,650,700,750,800,850,700,750,800,850,1000,1050,1000,1050,1200,1250,1200,1250,1400,1450,1500,1550,1400,1450,1500,1550,1650,1700,1750,1650,1650,1700,1750,1750,1700,1850,1900,1950,2000,2000,2050,2100,50,50,-100,-100,-100,150,100,200,250,800,750,700,650,600,550,450,400,350,300,500,200,250,300,350,450,500,550,650,700,750,800,600,350,400,50,50,50,100,150,100,150,200,250,200,250,300,350,300,350,50,0,0,50,100,150,100,150,0,50,100,150,200,250,300,350,400,450,500,550,650,700,750,600,800,850,900,1000,1050,950,1100,1150,1200,1300,1350,1400,1450,1250,1500,1600,1550,1650,1700,1750,1800,1900,1950,2000,2050,2100,1850,100,150,100,150,300,350,300,350,200,250,300,400,350,150,100,100,150,200,250,300,350,400,-50,-100,-200,-300,-350,-350,-300,-250,-250,-200,-150,-100,-50,-150,550,600,550,600,700,750,700,750,800,800,850,850,800,850,900,950,800,850,900,950,1000,1050,1000,1000,1000,1050,1050,1050,1050,1100,1150,1200,1250,1100,1100,1100,1150,1200,1250,1200,1250,1250,1200,1150,1150,1300,1300,1550,1550,1600,1600,1650,1700,1750,1800,1850,1900,1950,2000,2050,2100,1650,1700,1750,1800,1900,1950,2050,2050,2000,2100,1850,1550,1550,1550,550,521,-48,-51,723,1026,1883,1974,2066,1699,1715,1866]];
                    x_values[0] = [-563,-50,0,50,100,150,200,250,300,350,400,450,700,750,800,850,1000,950,900,1050,1150,1200,1250,1350,1300,1400,1450,1600,1650,1700,1850,1900,1950,2000,2050,2100,2150,2200,2000,1950,1900,1850,1800,1650,1600,1550,1500,1450,1400,1350,1300,1250,1100,1050,1000,950,900,850,800,750,700,650,600,550,500,450,400,350,300,250,200,150,100,50,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,250,250,100,100,150,200,250,300,350,400,450,450,450,450,500,700,750,800,850,850,850,1050,1050,1050,1800,1800,1800,1700,1600,1650,1050,1200,1250,1400,1450,1600,1650,1800,1950,1950,1950,1950,2250,2250,2250,2250,2250,2250,2250,2250,2250,2250,2250,2250,2250,2250,2200,2150,2100,1800,1850,1900,1950,2100,2150,2200,0,-50,50,100,150,200,250,300,350,400,450,500,550,600,650,150,150,-50,-50,0,0,0,-50,700,700,700,700,700,650,650,550,500,450,400,350,300,200,200,250,2000,2050,2100,2474,2658,2826,2997,3164,3318,3455,3583,3704,3891,4123,4316,4413,3882,4250,4079,3653,3358,3244,2250,2300,2350,2400,2450,2500,2550,2600,2650,2700,2750,2800,2850,2900,2950,3000,3050,3100,3150,3200,3250,2250,2127,2250,2950,3100,3150,2950];
                    
                    var y_values = [[450,350,300,300,200,50,0,100,100,250,100,-50,150,450,400,400,400,450,450,400,300,300,250,300,300,300,300,300,300,300,100,100,100,100,100,100,100,100,450,450,450,350,350,350,468,227,468,468,450,450,150,250,198,199,222,300,150,150,300,300,450,400,350,400,450,350,450,400,350,350,350,467,467,150,150,300,300,300,250,250,300,300,400,400,400,264,150,150,150,150,150,150,100,50,50,100,150,150,400,450,350,300,200,250,150,150,150,150,150,100,50,0,50,100,150,200,200,471,300,247,217,173,200,200,100,450,250,200,219,-50,-100,-150,-200,-100,-150,-200,-250], [150,150,150,150,150,150,100,100,100,100,150,150,150,150,150,100,100,100,100,150,150,150,150,150,150,150,150,150,150,100,100,100,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,200,200,200,200,200,200,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,250,350,350,350,350,300,300,300,300,250,300,300,300,250,400,400,400,400,450,450,450,450,350,350,300,300,300,450,450,450,400,350,500,500,450,400,400,350,500,500,550,500,500,550,550,600,600,600,550,550,550,600,600,600,550,550,600,600,650,650,650,650,650,600,650,650,600,600,600,600,600,650,600,600,600,550,550,500,500,500,150,150,200,200,200,200,200,250,250,250,250,250,250,250,250,250,250,250,250,200,200,200,200,200,200,200,250,250,250,300,300,300,300,300,200,200,200,200,200,200,650,650,650,650,650,650,650,600,550,550,550,550,600,650,600,650,650,600,600,700,700,650,700,700,700,700,700,700,700,750,750,750,750,700,700,650,650,650,700,700,650,650,650,650,650,600,600,600,600,600,600,600,600,550,550,550,500,500,550,600,600,550,500,500,500,450,550,550,450,450,500,400,400,350,350,350,300,350,300,400,250,250,300,250,250], [150,105,640.5,51], [292,250,582,250,600,600,600,600,600,600,600,600,600,600,550,550,550,550,550,550,550,550,550,550,550,550,550,500,500,550,550,550,500,500,450,450,450,450,400,400,400,400,400,350,350,350,350,250,250,250,250,250,250,150,150,150,150,150,150,0,0,0,0,50,50,50,-50,250,250,250,150,50,50,50,50,0,0,0,-100,-100,-100,-100,-100,-100,-100,-100,100,100], [-775,-620,-650,-650,-650,-650,-650,-750,-750,-750,-700,-650,-700,-650,-700,-650,-600,-550,-500,-450,-400,-400,-400,-400,-400,-400,-400,-350,-300,-250,-200,-200,-150,-100,-350,-300,-200,-150,-100,-100,-100,-100,-150,-150,-150,-200,-300,-200,-250,-250,-350,-350,-350,-300,-300,-250,-250,-200,-250,-200,-200,-150,-100,-100,-50,-100,-600,-550,-500,-450,-400,-350,-300,-250,-200,-150,-100,-100,-100,-100,-100,-50,-50,-50,-50,-50,-150,-200,-250,-300,-350,-400,-450,-550,-600,-500,-600,-600,-600,-600,-600,-500,-500,-550,-550,-550,-550,-550,-550,-550,-500,-500,-500,-450,-450,-450,-450,-450,-450,-150,-200,-250,-300,-350,-400,-400,-400,-400,-400,-400,-400,-400,-300,-250,-200,-150,-350,-350,-350,-350,-350,-300,-300,-300,-300,-250,-250,-250,-300,-300,-300,-250,-150,-150,-150,-200,-200,-200,-200,-250,-100,-100,-150,-150,0,50,50,100,150,200,250,250,250,250,250,250,200,150,100,50,50,50,50,50,50,50,0,0,0,0,0,100,100,150,200,200,200,200,100,100,100,150,150,150,550,550,550,600,600,600,750,800,800,800,750,750,550,550,550,750,750,750,750,750,750,750,800,800,800,800,600,550,550,550,600,600,-350,-350,-300,-300,-400,-400,-450,-500,-500,-550,-550,-600,-600,-700,-700,-650,-650,-750,-750,-800,-800,-850,-850,-850,-850,-800,-800,-750,-750,-750,-750,-700,-700,-700,-700,-650,-650,-650,-550,-600,-600,-600,-550,-550,-500,-500,-500,-500,-500,-500,-500,50,50,100,50,100,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,100,100,100,100,100,100,100,100,100,100,100,100,100,100,200,250,300,300,300,300,300,350,350,400,400,450,450,500,500,850,850,900,900,750,750,800,800,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,550,750,750,750,750,700,700,750,750,850,850,850,850,850,850,850,900,900,900,900,900,900,900,900,900,900,850,850,900,900,900,850,850,850,850,850,900,700,700,750,750,850,850,900,900,600,650,650,600,850,850,850,850,900,900,900,900,750,750,800,850,900,900,850,850,800,750,750,750,750,800,850,900,900,900,900,800,850,800,850,850,800,900,850,850,900,900,850,850,850,850,850,850,850,850,850,850,850,900,900,900,900,900,900,900,900,900,900,900,600,650,700,-450,-524,-501,-500,-715,-913,-560,-559,-558,-710,488,491]];
                    y_values[0] = [17,200,200,200,100,100,100,0,0,0,0,0,150,150,150,50,50,50,50,50,-50,-50,-50,-50,-50,-50,-50,-100,-100,-100,-100,-100,-100,-100,-200,-200,-200,-200,-300,-300,-300,-300,-300,-300,-300,-300,-300,-300,-300,-300,-300,-300,-400,-400,-400,-400,-400,-400,-400,-400,-400,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,200,150,50,100,0,-50,-100,-150,-200,-250,-300,-350,-400,-450,-500,-700,-650,-600,-550,-750,-800,-850,-900,-950,-1000,-1050,-1100,-1200,-1150,50,100,150,200,200,200,200,200,200,200,200,50,100,150,200,200,200,200,100,150,200,100,150,200,200,150,100,-50,-50,-50,250,250,250,250,250,250,250,250,100,150,200,250,-450,-400,-350,-300,-250,-200,-150,-100,0,50,100,150,200,250,50,50,50,50,50,50,50,0,0,0,-250,-300,-150,-150,-150,-150,-150,-150,-150,-150,-150,-150,-150,-150,-150,-450,-400,-250,-200,-200,-150,-150,-150,-350,-300,-250,-200,-150,-450,-400,-300,-300,-300,-300,-300,-300,-250,-200,-300,250,250,250,945,887,835,787,736,672,591,537,465,405,331,244,140,-128,61,-32,-219,-315,-431,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-500,-50,973,-550,-800,-600,-700,-750];
                    
                    var w_values = [[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,314,1,56,69,50,50,50,1,2,4,189,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,82,83,50,50,50,50,50,50,50,50,50,50,50,50,164,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,6,253,2,50,50,50,50,50,50,70,50,50,50,50,50,50,50,50], [50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50], [10,300,1,50], [1,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50], [10,300,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50]];
                    w_values[0] = [300,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,139,114,110,121,99,94,91,52,68,127,137,91,103,113,69,84,144,163,129,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,552,50,50,50,50,50];
                    
                    var h_values = [[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,13,1,8,9,50,50,50,50,151,150,1,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,12,13,50,50,50,50,50,50,50,50,50,50,50,50,12,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,9,50,54,8,100,50,50,50,50,50,50,8,50,50,50,50,50,50,50,50], [50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50], [100,10,1,50], [1,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50], [100,10,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50]];
                    h_values[0] = [10,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,112,104,113,117,120,94,50,67,62,127,109,115,92,94,71,79,116,85,77,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,54,50,50,50,50,50];
                    
                    var type_values = [[3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,3,3,3,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,3,3,0,3,3,0,3,3,0,0,0,1,1,0,0,0,0,0,0,0,3,3,3,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,0,0,0,0,3,3,3,3,3,3,0,0,1,0,1,1,1,0,0,0,3,4,3,1,3,3,3,0,3,3,3,0], [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1], [1,1,1,4], [1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], [1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,4,1,1,4,4,4,4,4,4,4,4]]; //0 = grass, 1 = normal, 2 = climable, 3 = dirt.
                    type_values[0] = [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,4,4,0,0,0];
                    
                    var spawnX = [-2, 0, 127, 167, -305]; spawnY = [77, 0, -17, 419, -742]; endX = [224, 100, 399, 1123, 99]; endY = [-276, -50, -1, -230, -592];

                    if ("main variables") {
                        var movement = [false, false]; /*left, right, gravity, jump*/ collide = [false, false, false, false]; collisions = 0;
                        var page = "mainmenu"; level = 0;
                        var x = spawnX[level]; y = spawnY[level]; w = 25; h = 25;
                        var jumptime = false; jumpvel = 0;
                        var credit_speed = 1; menu_transition = [false, 0, 0]; //true/false, number, number.
                        
                        //settings
                        var gravity = 0.5; speed = 4;

                        var button_x = [0, -innerWidth/4, 0, innerWidth/4, -innerWidth/4, 0, innerWidth/4, -innerWidth/4, 0, innerWidth/4]; button_y = [-innerHeight/4, 0, 0, 0, innerHeight/4, innerHeight/4, innerHeight/4, innerHeight/2, innerHeight/2, innerHeight/2]; button_num = 5;

                        //level 2
                        var rain_num = 10; rain_speed = 10; rainX = []; rainY = []; //x, y
                        var money = 0;
                    }

                    //rain setup
                    for (var rainset = 0; rainset < rain_num; rainset++) {
                        rainX[rainset] = random(0, innerWidth);
                        rainY[rainset] = random(0, innerHeight);
                    }

                    //custom functions
                    if ("custom functions" === "custom functions") {
                        var button = function(ID, x, y) {
                            if (mouseX > innerWidth/2 - innerWidth/20 + button_x[ID] && mouseY > innerHeight/2 - innerHeight/5 - innerHeight/20 + button_y[ID] + innerHeight - menu_transition[1] && mouseX < innerWidth/2 + innerWidth/20 + button_x[ID] && mouseY < innerHeight/2 + innerHeight/20 - innerHeight/5 + button_y[ID] + innerHeight - menu_transition[1]) {
                                rect(innerWidth/2 + button_x[ID], innerHeight/2 + innerHeight - innerHeight/5 - menu_transition[1] + button_y[ID], innerWidth/10 + 20, innerHeight/10 + 20);
                                if (ID < backgroundimage.length) {
                                    image(backgroundimage[ID], innerWidth/2 - innerWidth/20 - 10 + button_x[ID], innerHeight/2 - innerHeight/20 + innerHeight - innerHeight/5 - menu_transition[1] - 10 + button_y[ID], innerWidth/10 + 20, innerHeight/10 + 20);
                                } else {
                                    image(backgroundimage[0], innerWidth/2 - innerWidth/20 - 10 + button_x[ID], innerHeight/2 - innerHeight/20 + innerHeight - innerHeight/5 - menu_transition[1] - 10 + button_y[ID], innerWidth/10 + 20, innerHeight/10 + 20);
                                }
                                textSize(innerWidth/65);
                            } else {
                                textSize(innerWidth/75);
                                rect(innerWidth/2 + button_x[ID], innerHeight/2 + innerHeight - innerHeight/5 - menu_transition[1] + button_y[ID], innerWidth/10, innerHeight/10);
                                if (ID < backgroundimage.length) {
                                    image(backgroundimage[ID], innerWidth/2 - innerWidth/20 + button_x[ID], innerHeight/2 - innerHeight/20 - innerHeight/5 + innerHeight - menu_transition[1] + button_y[ID], innerWidth/10, innerHeight/10);
                                } else {
                                    image(backgroundimage[0], innerWidth/2 - innerWidth/20 + button_x[ID], innerHeight/2 - innerHeight/20 - innerHeight/5 + innerHeight - menu_transition[1] + button_y[ID], innerWidth/10, innerHeight/10);
                                }
                            }

                            //button text
                            fill(0);

                            if (page === "mainmenu") {
                                text("CHAPTER " + Number(ID + 1), innerWidth/2 + button_x[ID], innerHeight/2 - innerHeight/5 + innerHeight - menu_transition[1] + button_y[ID]);
                                fill(255);
                                text("CHAPTER " + Number(ID + 1), innerWidth/2 - 3 + button_x[ID], innerHeight/2 - innerHeight/5 + innerHeight - menu_transition[1] - 3 + button_y[ID]);
                            }

                            if (page === "win") {
                                //text("Main Menu", );
                            }
                        }

                        //game transition
                        var restartgame = function() {
                            level = 0;
                            page = "mainmenu";
                            x = spawnX[level];
                            y = spawnY[level];

                            menu_transition[0] = false;
                            menu_transition[1] = 0;
                            menu_transition[2] = 0;
                        }
                        var transitiongame = function() {
                            menu_transition[0] = false;
                            menu_transition[1] = 0;
                            menu_transition[2] = 0;

                            level++;
                            page = "game";
                            x = spawnX[level] + 50;
                            y = spawnY[level];
                            credit_speed = 1;
                        }
                        var winbuttons = function() {
                            rect();
                        }
                    }
                }

                if ("input" === "input") {
                    //keyboard stuff
                    keyPressed = function() {
                        if (key.toString() === "a" || keyCode + 0 === 37) {
                            movement[0] = true;
                        }
                        if (key.toString() === "d" || keyCode + 0 === 39) {
                            movement[1] = true;
                        }
                        if ((keyCode + 0 === 32 || key.toString() === "w" || keyCode + 0 === 38) && jumptime === true) {
                            jumptime = false;
                            jumpvel = 10;
                        }
                    };
                    keyReleased = function() {
                        if (key.toString() === "a" || keyCode + 0 === 37) {
                            movement[0] = false;
                        }
                        if (key.toString() === "d" || keyCode + 0 === 39) {
                            movement[1] = false;
                        }
                    };

                    //mouse stuff
                    mousePressed = function() {
                        if (page === "mainmenu") {
                            if (mouseX > sw/2 - sw/10 && mouseY > sh/2 - sh/10 && mouseX < sw/2 + sw/10 && mouseY < sh/2 + sh/10) {
                                menu_transition[0] = true;
                            }

                            if (menu_transition[1] >= 1) {
                                for (var button_scan = 0; button_scan < button_num; button_scan++) {
                                    if (mouseX > innerWidth/2 - innerWidth/20 + button_x[button_scan] && mouseY > innerHeight/2 - innerHeight/5 - innerHeight/20 + button_y[button_scan] + innerHeight - menu_transition[1] && mouseX < innerWidth/2 + innerWidth/20 + button_x[button_scan] && mouseY < innerHeight/2 + innerHeight/20 - innerHeight/5 + button_y[button_scan] + innerHeight - menu_transition[1]) {
                                        level = button_scan*3;
                                        x = spawnX[button_scan*3];
                                        y = spawnY[button_scan*3];
                                        page = "game";
                                    }
                                }
                            }
                        }
                        if (page === "win") {
                            menu_transition[0] = true;
                            credit_speed*=2;
                        }
                    };
                }

                //main stuff
                draw = function() {
                    //global stuff
                    textAlign(CENTER, CENTER);
                    strokeWeight(1);

                    //main menu
                    if (page === "mainmenu") {
                        if (menu_transition[0] === true && menu_transition[1] < innerHeight) {
                            menu_transition[1]+=5;
                        }
                        rectMode(CENTER);

                        image(backgroundimage[backgroundimage.length - 1], -200, 0 - menu_transition[1], innerWidth + 400, innerHeight*2 + 400);

                        //play button
                        if (menu_transition[1] < innerHeight) {
                            if (mouseX > sw/2 - sw/10 && mouseY > sh/2 - sh/10 - menu_transition[1] && mouseX < sw/2 + sw/10 && mouseY < sh/2 + sh/10 - menu_transition[1]) {
                                fill(75, 75, 75);
                            } else {
                                fill(100, 100, 100);
                            }
                            rect(sw/2, sh/2 - menu_transition[1], sw/5, sh/5);

                            //words on button
                            fill(0);
                            textSize((sw/2 + sw/5)/10);
                            text("PLAY!", sw/2, sh/2 - menu_transition[1]);
                        }
                    
                        if (menu_transition[1] > 0) {
                            for (var buttonloop = 0; buttonloop < button_num; buttonloop++) {
                                button(buttonloop);
                            }
                        }
                    }
                    
                    //game
                    if (page === "game") {
                        //background!
                        image(backgroundimage[round(level/3)], -200 - x/10, -200 - y/10, innerWidth*2 + 400, innerHeight + 400);

                        strokeWeight(1);
                        //main crap
                        if (0 === 0) {
                            //collision reset (x)
                            if (0 === 0) {
                                collide[0] = false;
                                collide[1] = false;
                                collide[2] = false;
                                collide[3] = false;
                            }

                            //map draw
                            for (var mapdraw_level = level; mapdraw_level < level+1; mapdraw_level++) {
                                for (var mapdraw = 0; mapdraw < x_values[mapdraw_level].length + 1; mapdraw++) {
                                    //grass asset
                                    if (type_values[mapdraw_level][mapdraw] === 0) {
                                        if (level >= grass.length*3) {
                                            image(grass[0], x_values[mapdraw_level][mapdraw] - x + innerWidth/2 - w_values[mapdraw_level][mapdraw]/2, y_values[mapdraw_level][mapdraw] - y + innerHeight/2 - h_values[mapdraw_level][mapdraw]/2, w_values[mapdraw_level][mapdraw], h_values[mapdraw_level][mapdraw]);
                                        } else {
                                            image(grass[round(level/3)], x_values[mapdraw_level][mapdraw] - x + innerWidth/2 - w_values[mapdraw_level][mapdraw]/2, y_values[mapdraw_level][mapdraw] - y + innerHeight/2 - h_values[mapdraw_level][mapdraw]/2, w_values[mapdraw_level][mapdraw], h_values[mapdraw_level][mapdraw]);
                                        }
                                    }
                                    //custom object
                                    if (type_values[mapdraw_level][mapdraw] === 1 || type_values[mapdraw_level][mapdraw] === 2) {
                                        if (level >= dirt.length*3) {
                                            image(dirt[0], x_values[mapdraw_level][mapdraw] - x + innerWidth/2 - w_values[mapdraw_level][mapdraw]/2, y_values[mapdraw_level][mapdraw] - y + innerHeight/2 - h_values[mapdraw_level][mapdraw]/2, w_values[mapdraw_level][mapdraw], h_values[mapdraw_level][mapdraw]);
                                        } else {
                                            image(dirt[round(level/3)], x_values[mapdraw_level][mapdraw] - x + innerWidth/2 - w_values[mapdraw_level][mapdraw]/2, y_values[mapdraw_level][mapdraw] - y + innerHeight/2 - h_values[mapdraw_level][mapdraw]/2, w_values[mapdraw_level][mapdraw], h_values[mapdraw_level][mapdraw]);
                                        }
                                    }
                                    //dirt asset
                                    if (type_values[mapdraw_level][mapdraw] === 3) {
                                        if (level >= dirt.length*3) {
                                            image(dirt[0], x_values[mapdraw_level][mapdraw] - x + innerWidth/2 - 25, y_values[mapdraw_level][mapdraw] - y + innerHeight/2 - 25, w_values[mapdraw_level][mapdraw], h_values[mapdraw_level][mapdraw]);
                                        } else {
                                            image(dirt[round(level/3)], x_values[mapdraw_level][mapdraw] - x + innerWidth/2 - 25, y_values[mapdraw_level][mapdraw] - y + innerHeight/2 - 25, w_values[mapdraw_level][mapdraw], h_values[mapdraw_level][mapdraw]);
                                        }
                                    }
                                    //coin
                                    if (type_values[mapdraw_level][mapdraw] === 4) {
                                        image(assets[0], x_values[mapdraw_level][mapdraw] - x + innerWidth/2 - 25, y_values[mapdraw_level][mapdraw] - y + innerHeight/2 - 25, 50, 50)
                                    }
                                }
                            }
                    
                            //collision detection
                            for (var collision_detect_level = level; collision_detect_level < level + 1; collision_detect_level++) {
                                for (var collision_detect = 0; collision_detect < x_values[collision_detect_level].length; collision_detect++) {
                                    collisions = 0;

                                    //the fancy stuff
                                    if (x + w > x_values[collision_detect_level][collision_detect] - w_values[collision_detect_level][collision_detect]/2 + 5 && y + h > y_values[collision_detect_level][collision_detect] - h_values[collision_detect_level][collision_detect]/2 && x < x_values[collision_detect_level][collision_detect] + w_values[collision_detect_level][collision_detect]/2 + 5 + w && y < y_values[collision_detect_level][collision_detect] + h_values[collision_detect_level][collision_detect]/2 - 5) {
                                        if (type_values[collision_detect_level][collision_detect] >= 0 && type_values[collision_detect_level][collision_detect] <= 3) {
                                            collide[0] = true;
                                            collisions++;
                                            if (type_values[collision_detect_level][collision_detect] === 2) {
                                                jumptime = true;
                                                jumpvel = 0;
                                            }
                                        }
                                    }
                                    if (x + w > x_values[collision_detect_level][collision_detect] - w_values[collision_detect_level][collision_detect]/2 - 5 && y + h > y_values[collision_detect_level][collision_detect] - h_values[collision_detect_level][collision_detect]/2 && x < x_values[collision_detect_level][collision_detect] + w_values[collision_detect_level][collision_detect]/2 + w && y < y_values[collision_detect_level][collision_detect] + h_values[collision_detect_level][collision_detect]/2 - 5) {
                                        if (type_values[collision_detect_level][collision_detect] >= 0 && type_values[collision_detect_level][collision_detect] <= 3) {
                                            collide[1] = true;
                                            collisions++;
                                            if (type_values[collision_detect_level][collision_detect] === 2) {
                                                jumptime = true;
                                                jumpvel = 0;
                                            } 
                                        }
                                    }
                                    if (x + w > x_values[collision_detect_level][collision_detect] - w_values[collision_detect_level][collision_detect]/2 && y + h > y_values[collision_detect_level][collision_detect] - h_values[collision_detect_level][collision_detect]/2 - 10 && x < x_values[collision_detect_level][collision_detect] + w_values[collision_detect_level][collision_detect]/2 - 5 + w && y < y_values[collision_detect_level][collision_detect] + h_values[collision_detect_level][collision_detect]/2 - 5) {
                                        if (type_values[collision_detect_level][collision_detect] >= 0 && type_values[collision_detect_level][collision_detect] <= 3) {
                                            collide[2] = true;
                                            collisions++;
                                        }
                                    }
                                    if (x + w > x_values[collision_detect_level][collision_detect] - w_values[collision_detect_level][collision_detect]/2 && y + h > y_values[collision_detect_level][collision_detect] - h_values[collision_detect_level][collision_detect]/2 + 5 && x < x_values[collision_detect_level][collision_detect] + w_values[collision_detect_level][collision_detect]/2 - 5 + w && y < y_values[collision_detect_level][collision_detect] + h_values[collision_detect_level][collision_detect]/2 + h - 1) {
                                        if (type_values[collision_detect_level][collision_detect] >= 0 && type_values[collision_detect_level][collision_detect] <= 3) {
                                            collide[3] = true;
                                            collisions++;
                                            //jumptime = false;
                                            if (jumpvel > 0) {
                                                jumpvel = 0;
                                            }
                                        }
                                    }
                                    if (collisions > 1) {
                                        if (y - y_values[collision_detect_level][collision_detect] < 0) {
                                            jumpvel = 0;
                                            jumptime = true;
                                            y-=(h_values[collision_detect_level][collision_detect]/2 + h + (y - y_values[collision_detect_level][collision_detect])) + 1;
                                        } else {
                                            y+=(h_values[collision_detect_level][collision_detect]/2 - h + (y - y_values[collision_detect_level][collision_detect])) + 1;
                                        }
                                    }
                                
                                    //just a normal collision
                                    if (x + w > x_values[collision_detect_level][collision_detect] - w_values[collision_detect_level][collision_detect]/2 && y + h > y_values[collision_detect_level][collision_detect] - h_values[collision_detect_level][collision_detect]/2 && x < x_values[collision_detect_level][collision_detect] + w_values[collision_detect_level][collision_detect]/2 && y < y_values[collision_detect_level][collision_detect] + h_values[collision_detect_level][collision_detect]/2) {
                                        if (type_values[collision_detect_level][collision_detect] === 4) {
                                            x_values[collision_detect_level].splice(collision_detect, 1);
                                            y_values[collision_detect_level].splice(collision_detect, 1);
                                            w_values[collision_detect_level].splice(collision_detect, 1);
                                            h_values[collision_detect_level].splice(collision_detect, 1);
                                            type_values[collision_detect_level].splice(collision_detect, 1);

                                            money++;
                                        }
                                    }

                                    //level reset if player falls
                                    if (y > 1000 + innerHeight/2) {
                                        x = spawnX[collision_detect_level];
                                        y = spawnY[collision_detect_level];
                                        jumpvel = 0;
                                    }
                                }
                            }

                            //movement physics (x)
                            if (0 === 0) {
                                if (movement[0] === true && collide[0] === false) {
                                    x-=speed;
                                }
                                if (movement[1] === true && collide[1] === false) {
                                    x+=speed;
                                }
                                y-=jumpvel;
                                if (collide[2] === false) {
                                    jumpvel-=gravity;
                                }
                                if (collide[3] === true) {
                                    y+=5;
                                }
                            }
                            if (x > endX[level] && y > endY[level] && x < endX[level] + 100 && y < endY[level] + 100) {
                                if (level === 2 || level === 5 || level === 8 || level === 11 || level === 14) {
                                    menu_transition[0] = false;
                                    menu_transition[1] = 0;
                                    page = "win";
                                } else {
                                    transitiongame();
                                }
                            }
                        
                            //rain
                            if (level > 2 && level < 6) {
                                for (var raindrop = 0; raindrop < rain_num; raindrop++) {
                                    //art
                                    image(particle[0], rainX[raindrop], rainY[raindrop], 10, 20);

                                    //logic
                                    rainY[raindrop]+=rain_speed;
                                    
                                    if (rainY[raindrop] > innerHeight) {
                                        rainX[raindrop] = random(0, innerWidth);
                                        rainY[raindrop] = 0;
                                    }
                                }
                            }
                        }
                        
                        image(character[0], innerWidth/2 - w, innerHeight/2 - h, w*2, h*2);

                        fill(150, 150, 0);
                        textSize(50);
                        text(money, innerWidth/2, innerHeight/10);

                        fill(0, 0, 255, 100);
                        rect(endX[level] - x + innerWidth/2 + 50, endY[level] - y + innerHeight/2 + 50, 100, 100);
                    }

                    //win screen
                    if (page === "win") {
                        if (level < backgroundimage.length) {
                            image(backgroundimage[level], -200, 0 - menu_transition[2]/10, innerWidth + 400, innerHeight*2 - menu_transition[2]/10);
                        } else {
                            image(backgroundimage[0], -200, 0 - menu_transition[2]/10, innerWidth + 400, innerHeight*2 - menu_transition[2]/10);
                        }
                        rectMode(CENTER, CENTER);
                        if (menu_transition[0] === false) {
                            menu_transition[1]++;
                        } else {
                            menu_transition[2]+=credit_speed;
                        }
                        if (menu_transition[1] > 200) {
                            menu_transition[0] = true;
                            menu_transition[2] = 0;
                            menu_transition[1] = 0;
                        }
                        if (menu_transition[2] > innerHeight*3) {
                            //transition options << fill this spot
                            transitiongame();
                        }

                        fill(0, 0, 0, 200);
                        rect(innerWidth/2, innerHeight/2, innerWidth*1.1, innerHeight*1.1);

                        if ("credits" === "credits") {
                            //stuff that's always the same
                            fill(255);
                            textSize(innerWidth/5);
                            text("You Win!!!", innerWidth/2, innerHeight/2 - menu_transition[2]);
                            textSize(innerWidth/10);
                            text("CREDITS:", innerWidth/2, innerHeight/2 - menu_transition[2] + innerHeight);

                            //actual credits:
                        
                            //Main contributions:
                            textSize(innerWidth/20);
                            text("Programming - Organizational Geek", innerWidth/2, innerHeight/2 - menu_transition[2] + innerHeight*1.5);

                            //Really great contributions:
                            textSize(innerWidth/40);
                            if (level === 0) {
                                text("Background/platform art - NitOwl", innerWidth/2, innerHeight/2 - menu_transition[2] + innerHeight*1.5 + 200);
                            }

                            //Pretty good contributions:
                            textSize(innerWidth/60);
                            if (level === 0 || level === 1) {
                                text("Level Design - Buggs", innerWidth/2, innerHeight/2 - menu_transition[2] + innerHeight*1.5 + 300);
                            }

                            if (level === 1) {
                                text("Background - NitOwl", sw/2, sh/2 - menu_transition[2] + innerHeight*1.5 + 200);
                            }

                            //Alright Contributions:
                            textSize(innerWidth/80);
                            if (level === 0 || level === 1) {
                                text("Testing - Mr mr sir", innerWidth/2, innerHeight/2 - menu_transition[2] + innerHeight*1.5 + 400);
                            }
                            if (level === 3) {
                                text("Level Design/Testing - FossilBeliever", innerWidth/2, innerHeight/2 - menu_transition[2] + innerHeight*1.5 + 400);
                            }
                            
                            if (level === 1) {
                                text("Platforms - Sunny", sw/2, sh/2 - menu_transition[2] + innerHeight*1.5 + 500);
                            }
                        }
                    }
                };
            };
        };
        var canvas = document.getElementById("mycanvas"); 
        var processingInstance = new Processing(canvas, sketchProc);

    </script>

</html> 